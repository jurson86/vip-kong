webpackJsonp([1],{"/n6Q":function(t,e,a){a("zQR9"),a("+tPU"),t.exports=a("Kh4W").f("iterator")},"06OY":function(t,e,a){var r=a("3Eo+")("meta"),n=a("EqjI"),o=a("D2L2"),i=a("evD5").f,s=0,l=Object.isExtensible||function(){return!0},u=!a("S82l")(function(){return l(Object.preventExtensions({}))}),c=function(t){i(t,r,{value:{i:"O"+ ++s,w:{}}})},m=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return u&&m.NEED&&l(t)&&!o(t,r)&&c(t),t}}},"1O5T":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("pFYg"),n=a.n(r),o={data:function(){return{formData:{name:"",healthchecks:{active:{http_path:"/health",healthy:{interval:0},unhealthy:{tcp_failures:0,timeouts:0}}}},rules:{name:[{required:!0,message:"名称是必填项",trigger:"blur"}]}}},computed:{breadcrumbName:function(){return this.itemName?"修改":"添加"},itemName:function(){return this.$route.params.name}},created:function(){this.itemName&&this.getDetail()},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){t?e.itemName?e.$patch("/upstreams/"+e.itemName,e.formData).then(function(t){"object"===(void 0===t?"undefined":n()(t))&&(e.$message({message:"修改成功！",type:"success"}),setTimeout(function(){e.$router.push({name:"upstreams"})},1e3))}):(e.formData.hash_on="none",e.formData.hash_fallback="none",e.$post("/upstreams",e.formData).then(function(t){"object"===(void 0===t?"undefined":n()(t))?(e.$message({message:"新增成功！",type:"success"}),setTimeout(function(){e.$router.push({name:"upstreams"})},1e3)):e.$message.error("新增失败！")})):e.$message({type:"warning",message:"缺少必填项或填写有误！"})})},getDetail:function(){var t=this;this.$get("/upstreams/"+this.itemName).then(function(e){t.formData=e})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{name:"home"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{name:"upstreams"}}},[t._v("服务")]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.breadcrumbName))])],1),t._v(" "),a("el-card",{staticClass:"form-card"},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.breadcrumbName))]),t._v(" "),a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.formData,rules:t.rules,"label-width":"140px",size:"small"}},[t.itemName&&t.formData.id?[a("el-form-item",{attrs:{label:"ID"}},[a("el-input",{attrs:{disabled:""},model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}})],1)]:t._e(),t._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"健康状态检测地址"}},[a("el-input",{attrs:{placeholder:"健康状态检测地址"},model:{value:t.formData.healthchecks.active.http_path,callback:function(e){t.$set(t.formData.healthchecks.active,"http_path",e)},expression:"formData.healthchecks.active.http_path"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"健康检测间隔时间"}},[a("el-input",{model:{value:t.formData.healthchecks.active.healthy.interval,callback:function(e){t.$set(t.formData.healthchecks.active.healthy,"interval",e)},expression:"formData.healthchecks.active.healthy.interval"}}),t._v(" "),a("p",{staticClass:"text"},[t._v("设置健康检测间隔时间，设置为：0 不启用任何健康机制")])],1),t._v(" "),a("el-form-item",{attrs:{label:"请求失败阀值"}},[a("el-input",{model:{value:t.formData.healthchecks.active.unhealthy.tcp_failures,callback:function(e){t.$set(t.formData.healthchecks.active.unhealthy,"tcp_failures",e)},expression:"formData.healthchecks.active.unhealthy.tcp_failures"}}),t._v(" "),a("p",{staticClass:"text"},[t._v("设置请求失败阀值，是否启动访问性健康检测，不启用为：0")])],1),t._v(" "),a("el-form-item",{attrs:{label:"超时时间"}},[a("el-input",{model:{value:t.formData.healthchecks.active.unhealthy.timeouts,callback:function(e){t.$set(t.formData.healthchecks.active.unhealthy,"timeouts",e)},expression:"formData.healthchecks.active.unhealthy.timeouts"}}),t._v(" "),a("p",{staticClass:"text"},[t._v("设置超时时间，启动超时健康检测机制，不启用为：0")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("form")}}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.go(-1)}}},[t._v("取消")])],1)],2)],1)],1)},staticRenderFns:[]},s=a("VU/8")(o,i,!1,null,null,null);e.default=s.exports},"3VQ/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{name:"home"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{name:"upstreams"}}},[t._v("服务")]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.itemName)+"的健康状况")])],1),t._v(" "),a("br"),t._v(" "),a("el-table",{attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"target",label:"Target"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"Weight"}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"Created"}}),t._v(" "),a("el-table-column",{attrs:{label:"#",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return["HEALTHCHECKS_OFF"==e.row.health?[a("el-select",{attrs:{disabled:""},model:{value:e.row.health,callback:function(a){t.$set(e.row,"health",a)},expression:"scope.row.health"}},[a("el-option",{attrs:{value:"healthy",label:"HEALTHY"}}),t._v(" "),a("el-option",{attrs:{value:"unhealthy",label:"UNHEALTHY"}})],1)]:[a("el-select",{on:{change:function(a){t.changeStatus(e.$index)}},model:{value:e.row.health,callback:function(a){t.$set(e.row,"health",a)},expression:"scope.row.health"}},[a("el-option",{attrs:{value:"healthy",label:"HEALTHY"}}),t._v(" "),a("el-option",{attrs:{value:"unhealthy",label:"UNHEALTHY"}})],1)]]}}])})],1)],1)},staticRenderFns:[]},n=a("VU/8")({data:function(){return{page:1,totalCount:1,size:10,nextUrl:"",tableData:[]}},computed:{itemName:function(){return this.$route.params.name}},created:function(){this.getTableData()},methods:{getTableData:function(){var t=this;this.$get("/upstreams/"+this.itemName+"/health").then(function(e){t.totalCount=e.total,t.formatTableData(e)})},formatTableData:function(t){t.total>this.size&&t.next&&(this.nextUrl=t.offset),this.tableData=t.data;for(var e=0;e<t.data.length;e++){var a=t.data[e];this.tableData[e].created_at=this.formatDateTime(a.created_at)}},changePage:function(t){var e=this;1==t?this.getTableData():this.$get("/upstreams/"+this.itemName+"/health?size="+this.size+"&offset="+this.nextUrl).then(function(t){e.formatTableData(t)})},changeStatus:function(t){var e=this;this.$confirm("确定修改健康状况吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$post("/upstreams/"+e.itemName+"/targets/"+e.tableData[t].target+"/"+e.tableData[t].health).then(function(t){e.$message({type:"success",message:"修改成功"}),e.getTableData()})}).catch(function(){e.$message({type:"info",message:"已取消修改"}),e.getTableData()})}}},r,!1,null,null,null);e.default=n.exports},"5QVw":function(t,e,a){t.exports={default:a("BwfY"),__esModule:!0}},"7UMu":function(t,e,a){var r=a("R9M2");t.exports=Array.isArray||function(t){return"Array"==r(t)}},BwfY:function(t,e,a){a("fWfb"),a("M6a0"),a("OYls"),a("QWe/"),t.exports=a("FeBl").Symbol},Kh4W:function(t,e,a){e.f=a("dSzd")},LKZe:function(t,e,a){var r=a("NpIQ"),n=a("X8DO"),o=a("TcQ7"),i=a("MmMw"),s=a("D2L2"),l=a("SfB7"),u=Object.getOwnPropertyDescriptor;e.f=a("+E39")?u:function(t,e){if(t=o(t),e=i(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return n(!r.f.call(t,e),t[e])}},O7Qo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("pFYg"),n=a.n(r),o=a("Dd8w"),i=a.n(o),s=a("9rMa"),l={mixins:[a("ScGb").a],data:function(){return{page:1,totalCount:1,size:10,nextUrl:"",targets:"active",targetsArr:[{value:"all",label:"ALL Targets"},{value:"active",label:"active Targets"}],tableData:[]}},computed:i()({itemName:function(){return this.$route.params.name}},Object(s.b)(["curUserGroup"])),watch:{curUserGroup:function(t){var e=this;t&&(this.getKongUrl(),setTimeout(function(){e.$router.push({name:"upstreams"})},1e3))}},created:function(){this.getTableData()},methods:{addItem:function(){this.$router.push({name:"targetsAdd"})},deleteItem:function(t){var e=this;this.$confirm("确定删除这一项吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$delete("/upstreams/"+e.itemName+"/targets/"+t).then(function(t){204==t.status&&(e.$message({type:"success",message:"删除成功"}),"active"==e.targets?e.getTableData():e.getAllData())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},getTableData:function(){var t=this;this.$get("/upstreams/"+this.itemName+"/targets").then(function(e){"object"===(void 0===e?"undefined":n()(e))&&(t.totalCount=e.total,t.formatTableData(e))})},getAllData:function(t){var e=this;"all"==this.targets?this.$get("/upstreams/"+this.itemName+"/targets/all").then(function(t){"object"==(void 0===t?"undefined":n()(t))&&(e.totalCount=t.total,e.formatTableData(t))}):this.getTableData()},formatTableData:function(t){t.total>this.size&&t.next&&(this.nextUrl=t.offset),this.tableData=t.data;for(var e=0;e<t.data.length;e++){var a=t.data[e];this.tableData[e].created_at=this.formatDateTime(a.created_at)}},changePage:function(t){var e=this;1==t?this.getAllData():"all"==this.targets?this.$get("/upstreams/"+this.itemName+"/targets/all?size="+this.size+"&offset="+this.nextUrl).then(function(t){e.formatTableData(t)}):this.$get("/upstreams/"+this.itemName+"/targets?size="+this.size+"&offset="+this.nextUrl).then(function(t){e.formatTableData(t)})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{name:"home"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{name:"upstreams"}}},[t._v("服务")]),t._v(" "),a("el-breadcrumb-item",[t._v("Targets of "+t._s(t.itemName))])],1),t._v(" "),a("div",{staticClass:"plus"},[a("el-select",{staticStyle:{width:"80%"},on:{change:t.getAllData},model:{value:t.targets,callback:function(e){t.targets=e},expression:"targets"}},t._l(t.targetsArr,function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:t.addItem}})],1),t._v(" "),a("el-table",{attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"target",label:"Target"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"Weight"}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"Created"}}),t._v(" "),"active"==t.targets?a("el-table-column",{attrs:{label:"#",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){t.deleteItem(e.row.id)}}})]}}])}):t._e()],1)],1)},staticRenderFns:[]},c=a("VU/8")(l,u,!1,null,null,null);e.default=c.exports},OYls:function(t,e,a){a("crlp")("asyncIterator")},"QWe/":function(t,e,a){a("crlp")("observable")},Rrel:function(t,e,a){var r=a("TcQ7"),n=a("n0T6").f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return i&&"[object Window]"==o.call(t)?function(t){try{return n(t)}catch(t){return i.slice()}}(t):n(r(t))}},Xc4G:function(t,e,a){var r=a("lktj"),n=a("1kS7"),o=a("NpIQ");t.exports=function(t){var e=r(t),a=n.f;if(a)for(var i,s=a(t),l=o.f,u=0;s.length>u;)l.call(t,i=s[u++])&&e.push(i);return e}},Zzip:function(t,e,a){t.exports={default:a("/n6Q"),__esModule:!0}},crlp:function(t,e,a){var r=a("7KvD"),n=a("FeBl"),o=a("O4g8"),i=a("Kh4W"),s=a("evD5").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:i.f(t)})}},fWfb:function(t,e,a){"use strict";var r=a("7KvD"),n=a("D2L2"),o=a("+E39"),i=a("kM2E"),s=a("880/"),l=a("06OY").KEY,u=a("S82l"),c=a("e8AB"),m=a("e6n0"),f=a("3Eo+"),h=a("dSzd"),p=a("Kh4W"),d=a("crlp"),b=a("Xc4G"),v=a("7UMu"),g=a("77Pl"),_=a("EqjI"),y=a("TcQ7"),D=a("MmMw"),w=a("X8DO"),$=a("Yobk"),T=a("Rrel"),x=a("LKZe"),k=a("evD5"),S=a("lktj"),N=x.f,O=k.f,E=T.f,j=r.Symbol,U=r.JSON,C=U&&U.stringify,z=h("_hidden"),I=h("toPrimitive"),F={}.propertyIsEnumerable,P=c("symbol-registry"),M=c("symbols"),A=c("op-symbols"),Y=Object.prototype,Q="function"==typeof j,H=r.QObject,K=!H||!H.prototype||!H.prototype.findChild,V=o&&u(function(){return 7!=$(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,a){var r=N(Y,e);r&&delete Y[e],O(t,e,a),r&&t!==Y&&O(Y,e,r)}:O,W=function(t){var e=M[t]=$(j.prototype);return e._k=t,e},B=Q&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},L=function(t,e,a){return t===Y&&L(A,e,a),g(t),e=D(e,!0),g(a),n(M,e)?(a.enumerable?(n(t,z)&&t[z][e]&&(t[z][e]=!1),a=$(a,{enumerable:w(0,!1)})):(n(t,z)||O(t,z,w(1,{})),t[z][e]=!0),V(t,e,a)):O(t,e,a)},G=function(t,e){g(t);for(var a,r=b(e=y(e)),n=0,o=r.length;o>n;)L(t,a=r[n++],e[a]);return t},R=function(t){var e=F.call(this,t=D(t,!0));return!(this===Y&&n(M,t)&&!n(A,t))&&(!(e||!n(this,t)||!n(M,t)||n(this,z)&&this[z][t])||e)},J=function(t,e){if(t=y(t),e=D(e,!0),t!==Y||!n(M,e)||n(A,e)){var a=N(t,e);return!a||!n(M,e)||n(t,z)&&t[z][e]||(a.enumerable=!0),a}},q=function(t){for(var e,a=E(y(t)),r=[],o=0;a.length>o;)n(M,e=a[o++])||e==z||e==l||r.push(e);return r},X=function(t){for(var e,a=t===Y,r=E(a?A:y(t)),o=[],i=0;r.length>i;)!n(M,e=r[i++])||a&&!n(Y,e)||o.push(M[e]);return o};Q||(s((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(a){this===Y&&e.call(A,a),n(this,z)&&n(this[z],t)&&(this[z][t]=!1),V(this,t,w(1,a))};return o&&K&&V(Y,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),x.f=J,k.f=L,a("n0T6").f=T.f=q,a("NpIQ").f=R,a("1kS7").f=X,o&&!a("O4g8")&&s(Y,"propertyIsEnumerable",R,!0),p.f=function(t){return W(h(t))}),i(i.G+i.W+i.F*!Q,{Symbol:j});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)h(Z[tt++]);for(var et=S(h.store),at=0;et.length>at;)d(et[at++]);i(i.S+i.F*!Q,"Symbol",{for:function(t){return n(P,t+="")?P[t]:P[t]=j(t)},keyFor:function(t){if(!B(t))throw TypeError(t+" is not a symbol!");for(var e in P)if(P[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),i(i.S+i.F*!Q,"Object",{create:function(t,e){return void 0===e?$(t):G($(t),e)},defineProperty:L,defineProperties:G,getOwnPropertyDescriptor:J,getOwnPropertyNames:q,getOwnPropertySymbols:X}),U&&i(i.S+i.F*(!Q||u(function(){var t=j();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){for(var e,a,r=[t],n=1;arguments.length>n;)r.push(arguments[n++]);if(a=e=r[1],(_(e)||void 0!==t)&&!B(t))return v(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!B(e))return e}),r[1]=e,C.apply(U,r)}}),j.prototype[I]||a("hJx8")(j.prototype,I,j.prototype.valueOf),m(j,"Symbol"),m(Math,"Math",!0),m(r.JSON,"JSON",!0)},jH5n:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Dd8w"),n=a.n(r),o=a("9rMa"),i={mixins:[a("ScGb").a],data:function(){return{page:1,size:10,totalCount:0,nextUrl:"",tableData:[],inputValue:""}},created:function(){this.getTableData()},computed:n()({},Object(o.b)(["curUserGroup"])),watch:{curUserGroup:function(t,e){var a=this;t!==e&&(this.getKongUrl(),setTimeout(function(){a.getTableData()},1e3))}},methods:{searchData:function(){var t=this;this.inputValue?this.$get("/upstreams/"+this.inputValue).then(function(e){t.tableData=[],t.totalCount=1;var a=e;a.created_at=t.formatDateTime(e.created_at),t.tableData.push(a)}):this.getTableData()},addItem:function(){this.$router.push({name:"upstreamsAdd"})},editItem:function(t){this.$router.push({name:"upstreamsEdit",params:{name:t}})},deleteItem:function(t){var e=this;this.$confirm('确定删除Upstream "'+t+'"',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$delete("/upstreams/"+t).then(function(t){204==t.status?(e.$message({type:"success",message:"删除成功"}),e.getTableData()):e.$message.error("删除失败")})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},toTargets:function(t){this.$router.push({name:"targets",params:{name:t}})},toHealth:function(t){this.$router.push({name:"health",params:{name:t}})},changePage:function(t){var e=this;1==t?this.getTableData():(this.nextUrl=this.Base64(t.toString()),this.$get("/upstreams?size="+this.size+"&offset="+this.nextUrl).then(function(t){e.formatTableData(t)}))},getTableData:function(){var t=this;this.tableData=[],this.$get("/upstreams?size="+this.size).then(function(e){t.totalCount=e.total,t.formatTableData(e)})},formatTableData:function(t){t.total>this.size&&t.next&&(this.nextUrl=t.offset),this.tableData=t.data;for(var e=0;e<t.data.length;e++){var a=t.data[e];this.tableData[e].created_at=this.formatDateTime(a.created_at)}}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{name:"home"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("服务")])],1),t._v(" "),a("div",{staticClass:"plus"},[a("el-input",{staticStyle:{width:"80%"},attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入ID或name回车搜索"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchData(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-plus",circle:"",title:"新增"},on:{click:t.addItem}})],1),t._v(" "),a("el-table",{attrs:{"default-sort":{prop:"name"},data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"name",label:"Name"}}),t._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"created_at",label:"Created"}}),t._v(" "),a("el-table-column",{attrs:{label:"#",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"warning",icon:"el-icon-printer",circle:"",title:"查看targets"},on:{click:function(a){t.toTargets(e.row.name)}}}),t._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-info",circle:"",title:"查看健康状况"},on:{click:function(a){t.toHealth(e.row.name)}}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",title:"编辑"},on:{click:function(a){t.editItem(e.row.name)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",title:"删除"},on:{click:function(a){t.deleteItem(e.row.name)}}})]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{layout:"total, prev, pager, next","current-page":t.page,total:t.totalCount,"page-size":t.size},on:{"current-change":t.changePage}})],1)},staticRenderFns:[]},l=a("VU/8")(i,s,!1,null,null,null);e.default=l.exports},n0T6:function(t,e,a){var r=a("Ibhu"),n=a("xnc9").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},pFYg:function(t,e,a){"use strict";e.__esModule=!0;var r=i(a("Zzip")),n=i(a("5QVw")),o="function"==typeof n.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":typeof t};function i(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof n.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":void 0===t?"undefined":o(t)}},x4O3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("pFYg"),n=a.n(r),o={data:function(){return{formData:{target:"",weight:""},rules:{target:[{required:!0,message:"必填项",trigger:"blur"},{pattern:/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})(\:[0-9]{1,4})?$/,message:"地址输入有误",trigger:"blur"}],weight:[{required:!0,type:"number",message:"weight是必填项",trigger:"blur"}]}}},computed:{itemName:function(){return this.$route.params.name}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){t?e.$post("/upstreams/"+e.itemName+"/targets",e.formData).then(function(t){"object"==(void 0===t?"undefined":n()(t))?(e.$message({message:"新增成功！",type:"success"}),setTimeout(function(){e.$router.push({name:"targets"})},1e3)):e.$message.error("新增失败！")}):e.$message({type:"warning",message:"缺少必填项或填写有误！"})})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{name:"home"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{name:"upstreams"}}},[t._v("服务")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{name:"targets"}}},[t._v("targets")]),t._v(" "),a("el-breadcrumb-item",[t._v("添加")])],1),t._v(" "),a("el-card",{staticClass:"form-card"},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v("添加")]),t._v(" "),a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.formData,rules:t.rules,"label-width":"140px",size:"small"}},[a("el-form-item",{attrs:{label:"Upstream"}},[a("el-input",{attrs:{disabled:""},model:{value:t.itemName,callback:function(e){t.itemName=e},expression:"itemName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Target",prop:"target"}},[a("el-input",{attrs:{placeholder:"127.0.0.1:8080"},model:{value:t.formData.target,callback:function(e){t.$set(t.formData,"target",e)},expression:"formData.target"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Weight",prop:"weight"}},[a("el-input",{model:{value:t.formData.weight,callback:function(e){t.$set(t.formData,"weight",t._n(e))},expression:"formData.weight"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("form")}}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:function(e){t.$router.go(-1)}}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]},s=a("VU/8")(o,i,!1,null,null,null);e.default=s.exports}});